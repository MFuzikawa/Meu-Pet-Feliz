"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("dotenv/config");
const servico_repository_prisma_1 = require("./infra/repositories/servico/servico.repository.prisma");
const prisma_1 = require("./infra/database/prisma/prisma");
const findByIdServico_usecase_1 = require("./usecases/servico.usecases/findById-servico/findByIdServico.usecase");
const createServico_usecase_1 = require("./usecases/servico.usecases/create-servico/createServico.usecase");
const listServico_usecase_1 = require("./usecases/servico.usecases/list-servico/listServico.usecase");
const deleteServico_usecase_1 = require("./usecases/servico.usecases/delete-servico/deleteServico.usecase");
const findById_servico_express_route_1 = require("./infra/api/express/routes/servico/findById-servico.express.route");
const create_servico_express_route_1 = require("./infra/api/express/routes/servico/create-servico.express.route");
const list_product_express_route_1 = require("./infra/api/express/routes/servico/list-product.express.route");
const delete_servico_express_route_1 = require("./infra/api/express/routes/servico/delete-servico.express.route");
const api_express_1 = require("./infra/api/express/routes/api.express");
const updateServico_usecase_1 = require("./usecases/servico.usecases/update-servico/updateServico.usecase");
const update_servico_express_route_1 = require("./infra/api/express/routes/servico/update-servico.express.route");
function main() {
    const aRepository = servico_repository_prisma_1.ServicoRepositoryPrisma.create(prisma_1.prisma);
    const findByIdServicoUsecase = findByIdServico_usecase_1.FindByIdServicoUsecase.create(aRepository);
    const updateServicoUsecase = updateServico_usecase_1.UpdateServicoUsecase.create(aRepository);
    const createServicoUseCase = createServico_usecase_1.CreateServicoUseCase.create(aRepository);
    const listServicosUseCase = listServico_usecase_1.ListServicoUsecase.create(aRepository);
    const deleteServicoUseCase = deleteServico_usecase_1.DeleteServicoUsecase.create(aRepository);
    const findByIdRoute = findById_servico_express_route_1.FindByIdServicoRoute.create(findByIdServicoUsecase);
    const updateRoute = update_servico_express_route_1.UpdateServicoRoute.create(updateServicoUsecase);
    const createRoute = create_servico_express_route_1.CreateServicoRoute.create(createServicoUseCase);
    const listRoute = list_product_express_route_1.ListServicosRoute.create(listServicosUseCase);
    const deleteRoute = delete_servico_express_route_1.DeleteServicoRoute.create(deleteServicoUseCase);
    const port = 3000;
    const api = api_express_1.ApiExpress.create([createRoute, updateRoute, findByIdRoute, deleteRoute, listRoute,]);
    api.start(port);
}
main();
